<form [formGroup]="formName">
    <div formGroupName="{{groupName}}">
        <div ngSwitch="{{type}}">
            <div *ngSwitchCase="'textBox'">
                <input type="text" class="form-control" style="font-weight: bold" [formControlName]="controlName" placeholder="{{placeholder}}">
                <app-validation-messages [formName]="formName" [groupName]="groupName" [controlName]="controlName" [validation]="validation"></app-validation-messages>
            </div>
            <div *ngSwitchCase="'boolean'">
                <mat-checkbox style="font-weight: bold" [formControlName]="controlName"></mat-checkbox>
            </div>
            <div *ngSwitchCase="'image'">
                <input type="text" class="form-control" style="font-weight: bold" [formControlName]="controlName" placeholder="{{placeholder}}">
                <app-validation-messages [formName]="formName" [groupName]="groupName" [controlName]="controlName" [validation]="validation"></app-validation-messages>
            </div>
            <div *ngSwitchCase="'integer'">
                <input type="number" class="form-control" placeholder="{{placeholder}}"  style="font-weight: bold" step="1" [formControlName]="controlName">
                <app-validation-messages  [formName]="formName" [groupName]="groupName" [controlName]="controlName" [validation]="validation"></app-validation-messages>
            </div>
            <div *ngSwitchCase="'double'">
                <input type="number" class="form-control" placeholder="{{placeholder}}" style="font-weight: bold" step="0.1" [formControlName]="controlName">
                <app-validation-messages [formName]="formName" [groupName]="groupName" [controlName]="controlName" [validation]="validation"></app-validation-messages>
            </div>
            <div *ngSwitchCase="'float'">
                <input type="number" class="form-control" placeholder="{{placeholder}}" style="font-weight: bold" step="0.1"[formControlName]="controlName">
                <app-validation-messages [formName]="formName" [groupName]="groupName" [controlName]="controlName" [validation]="validation"></app-validation-messages>
            </div>
            <div *ngSwitchCase="'arrayOfStrings'">
                <div class="row justify-content-center text-center" [formArrayName]="controlName">
                    <div class="col-12">
                        <p>
                            <button data-toggle="collapse" (click) = "changeButton()" class="btn btn-outline-secondary"
                                    [attr.data-target]="'#arrayOfStrings' + controlName + groupName"
                                    style="width: 100%"
                                    aria-expanded="false" [attr.aria-controls]="'arrayOfStrings' + controlName + groupName">
                                {{buttonText(buttonValue)}}
                            </button>
                        </p>
                        <div class="collapse" id="arrayOfStrings{{controlName}}{{groupName}}">
                            <table class="border border-secondary w-100">
                                <tr *ngFor="let dataItem of arrayValues; let i = index" >
                                    <td>
                                        <input type = "text"  class="form-control m-2" id="{{dataItem}}{{i}}" name="{{dataItem}}{{i}}"
                                               style="font-weight: bold; width: 100%" [formControlName]="i" >
                                        <mat-error  *ngIf="formName.get(groupName).get(controlName).get(i.toString()).value === '' &&
                                                    formName.get(groupName).get(controlName).touched">
                                            Can't be null
                                            {{formName.get(groupName).get(controlName).get(i.toString()).setErrors({'Required': true})}}
                                        </mat-error>
                                    </td>
                                    <td style="width: 13%">
                                        <button class="btn mat-icon-button btn-danger" (click) = "deleteArrayItem(groupName, controlName, i)">x</button>
                                    </td>
                                </tr>
                            </table>
                            <div class="text-left">
                                <button class="btn bg-secondary" (click) = "addArrayItem(groupName, controlName)">
                                    add
                                </button>
                            </div>
                        </div>
                    </div>
                    <app-validation-messages [formName]="formName" [groupName]="groupName" [controlName]="controlName" [validation]="validation"></app-validation-messages>
                </div>
            </div>
            <div *ngSwitchCase="'arrayOfCommands'">
                <div class="row justify-content-center text-center" [formArrayName]="controlName">
                    <div class="col-12">
                        <p>
                            <button data-toggle="collapse" (click) = "changeButton()" class="btn btn-outline-secondary"
                                    [attr.data-target]="'#arrayOfCommands' + controlName + groupName"
                                    style="width: 100%"
                                    aria-expanded="false" [attr.aria-controls]="'arrayOfCommands' + controlName + groupName">
                                {{buttonText(buttonValue)}}
                            </button>
                        </p>
                        <div class="collapse" id="arrayOfCommands{{controlName}}{{groupName}}">
                            <table class="border border-secondary w-100">
                                <tr *ngFor="let ar of arrayValues; let i = index" >
                                    <td>
                                        <input type = "text"  class="form-control m-2" style="font-weight: bold" [formControlName]="i">
                                        <mat-error  *ngIf="formName.get(groupName).get(controlName).get(i.toString()).value === '' &&
                                                        formName.get(groupName).get(controlName).touched">
                                            Can't be null
                                            {{formName.get(groupName).get(controlName).get(i.toString()).setErrors({'Required': true})}}
                                        </mat-error>
                                    </td>
                                    <td style="width: 13%">
                                        <button class="btn mat-icon-button btn-danger" (click) = "deleteArrayItem(groupName, controlName, i)">x</button>
                                    </td>
                                </tr>
                            </table>
                            <div class="text-left">
                                <button class="btn bg-secondary" (click) = "addArrayItem(groupName, controlName)">
                                    add
                                </button>
                            </div>
                        </div>
                    </div>
                    <app-validation-messages [formName]="formName" [groupName]="groupName" [controlName]="controlName" [validation]="validation"></app-validation-messages>
                </div>
            </div>
            <div *ngSwitchCase="'arrayOfIntegers'">
                <div class="row justify-content-center text-center" [formArrayName]="controlName">
                    <div class="col-12">
                        <p>
                            <button data-toggle="collapse" (click) = "changeButton()" class="btn btn-outline-secondary"
                                    [attr.data-target]="'#arrayOfIntegers' + controlName + groupName"
                                    style="width: 100%"
                                    aria-expanded="false" [attr.aria-controls]="'arrayOfIntegers' + controlName + groupName">
                                {{buttonText(buttonValue)}}
                            </button>
                        </p>
                        <div class="collapse" id="arrayOfIntegers{{controlName}}{{groupName}}">
                            <table class="border border-secondary w-100">
                                <tr *ngFor="let ar of arrayValues; let i = index" >
                                    <td>
                                        <input type = "number" step="1"  min="0" class="form-control m-2" style="font-weight: bold" [formControlName]="i">
                                        <mat-error  *ngIf="formName.get(groupName).get(controlName).get(i.toString()).value === ''">
                                            Can't be null
                                            {{formName.get(groupName).get(controlName).get(i.toString()).setErrors({'Required': true})}}
                                        </mat-error>
                                    </td>
                                    <td style="width: 13%">
                                        <button class="btn mat-icon-button btn-danger" (click) = "deleteArrayItem(groupName, controlName, i)">x</button>
                                    </td>
                                </tr>
                            </table>
                            <div class="text-left">
                                <button class="btn bg-secondary" (click) = "addArrayItem(groupName, controlName)">
                                    add
                                </button>
                            </div>
                        </div>
                    </div>
                    <app-validation-messages [formName]="formName" [groupName]="groupName" [controlName]="controlName" [validation]="validation"></app-validation-messages>
                </div>
            </div>
            <div *ngSwitchCase="'arrayOfDouble'">
                <div class="row justify-content-center text-center" [formArrayName]="controlName">
                    <div class="col-12">
                        <p>
                            <button data-toggle="collapse" (click) = "changeButton()" class="btn btn-outline-secondary"
                                    [attr.data-target]="'#arrayOfDouble' + controlName + groupName"
                                    style="width: 100%"
                                    aria-expanded="false" [attr.aria-controls]="'arrayOfDouble' + controlName + groupName">
                                {{buttonText(buttonValue)}}
                            </button>
                        </p>
                        <div class="collapse" id="arrayOfDouble{{controlName}}{{groupName}}">
                            <table class="border border-info w-100">
                                <tr *ngFor="let ar of arrayValues; let i = index" >
                                    <td>
                                        <input type = "number" step="0.1" min="0" class="form-control m-2" style="font-weight: bold" [formControlName]="i">
                                        <mat-error  *ngIf="formName.get(groupName).get(controlName).get(i.toString()).value === ''">
                                            Can't be empty
                                            {{formName.get(groupName).get(controlName).get(i.toString()).setErrors({'Required': true})}}
                                        </mat-error>
                                    </td>
                                    <td style="width: 13%">
                                        <button class="btn mat-icon-button btn-danger" (click) = "deleteArrayItem(groupName, controlName, i)">x</button>
                                    </td>
                                </tr>
                            </table>
                            <div class="text-left">
                                <button class="btn bg-secondary" (click) = "addArrayItem(groupName, controlName)">
                                    add
                                </button>
                            </div>
                        </div>
                    </div>
                    <app-validation-messages [formName]="formName" [groupName]="groupName" [controlName]="controlName" [validation]="validation"></app-validation-messages>
                </div>
            </div>
            <div *ngSwitchCase="'arrayOfFloat'">
                <div class="row justify-content-center text-center" [formArrayName]="controlName">
                    <div class="col-12">
                        <p>
                            <button data-toggle="collapse" (click) = "changeButton()"
                                    class="btn btn-outline-dark" [attr.data-target]="'#arrayOfFloat' + controlName + groupName"
                                    aria-expanded="false" [attr.aria-controls]="'arrayOfFloat' + controlName + groupName"
                                    style="width: 100%">
                                {{buttonText(buttonValue)}}
                            </button>
                        </p>
                        <div class="collapse" id="arrayOfFloat{{controlName}}{{groupName}}">
                            <table class="border border-dark w-100">
                                <tr *ngFor="let ar of arrayValues; let i = index" >
                                    <td>
                                        <input type = "number" step="0.1" min="0" class="form-control m-2" style="font-weight: bold" [formControlName]="i">
                                        <mat-error *ngIf="formName.get(groupName).get(controlName).get(i.toString()).value === ''">
                                            Can't be null
                                            {{formName.get(groupName).get(controlName).get(i.toString()).setErrors({'Required': true})}}
                                        </mat-error>
                                    </td>
                                    <td style="width: 13%">
                                        <button class="btn mat-icon-button btn-danger" (click) = "deleteArrayItem(groupName, controlName, i)">x</button>
                                    </td>
                                </tr>
                            </table>
                            <div class="text-left">
                                <button class="btn bg-secondary" (click) = "addArrayItem(groupName, controlName)">
                                    add
                                </button>
                            </div>
                        </div>
                    </div>
                    <app-validation-messages [formName]="formName" [groupName]="groupName" [controlName]="controlName" [validation]="validation"></app-validation-messages>
                </div>
            </div>
            <div *ngSwitchCase="'dropdown'">
                <select class="form-select" style="font-weight: bold"  [formControlName]="controlName">
                    <ng-container>
                       <option class="form-control" style="font-weight: bold" value="{{item}}" *ngFor="let item of items">{{item}}</option>
                    </ng-container>
                </select>
                <app-validation-messages [formName]="formName" [groupName]="groupName" [controlName]="controlName" [validation]="validation"></app-validation-messages>
            </div>
        </div>
    </div>
</form>
